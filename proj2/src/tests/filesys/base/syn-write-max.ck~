# -*- perl -*-
use strict;
use warnings;
use tests::tests;
check_expected (IGNORE_EXIT_CODES => 1, [<<'EOF']);
(syn-write-max) begin
(syn-write-max) create "stuff"
(syn-write-max) exec child 1 of 100: "child-syn-wrt 0"
(syn-write-max) exec child 2 of 100: "child-syn-wrt 1"
(syn-write-max) exec child 3 of 100: "child-syn-wrt 2"
(syn-write-max) exec child 4 of 100: "child-syn-wrt 3"
(syn-write-max) exec child 5 of 100: "child-syn-wrt 4"
(syn-write-max) exec child 6 of 100: "child-syn-wrt 5"
(syn-write-max) exec child 7 of 100: "child-syn-wrt 6"
(syn-write-max) exec child 8 of 100: "child-syn-wrt 7"
(syn-write-max) exec child 9 of 100: "child-syn-wrt 8"
(syn-write-max) exec child 10 of 100: "child-syn-wrt 9"
(syn-write-max) exec child 11 of 100: "child-syn-wrt 10"
(syn-write-max) exec child 12 of 100: "child-syn-wrt 11"
(syn-write-max) exec child 13 of 100: "child-syn-wrt 12"
(syn-write-max) exec child 14 of 100: "child-syn-wrt 13"
(syn-write-max) exec child 15 of 100: "child-syn-wrt 14"
(syn-write-max) exec child 16 of 100: "child-syn-wrt 15"
(syn-write-max) exec child 17 of 100: "child-syn-wrt 16"
(syn-write-max) exec child 18 of 100: "child-syn-wrt 17"
(syn-write-max) exec child 19 of 100: "child-syn-wrt 18"
(syn-write-max) exec child 20 of 100: "child-syn-wrt 19"
(syn-write-max) exec child 21 of 100: "child-syn-wrt 20"
(syn-write-max) exec child 22 of 100: "child-syn-wrt 21"
(syn-write-max) exec child 23 of 100: "child-syn-wrt 22"
(syn-write-max) exec child 24 of 100: "child-syn-wrt 23"
(syn-write-max) exec child 25 of 100: "child-syn-wrt 24"
(syn-write-max) exec child 26 of 100: "child-syn-wrt 25"
(syn-write-max) exec child 27 of 100: "child-syn-wrt 26"
(syn-write-max) exec child 28 of 100: "child-syn-wrt 27"
(syn-write-max) exec child 29 of 100: "child-syn-wrt 28"
(syn-write-max) exec child 30 of 100: "child-syn-wrt 29"
(syn-write-max) exec child 31 of 100: "child-syn-wrt 30"
(syn-write-max) exec child 32 of 100: "child-syn-wrt 31"
(syn-write-max) exec child 33 of 100: "child-syn-wrt 32"
(syn-write-max) exec child 34 of 100: "child-syn-wrt 33"
(syn-write-max) exec child 35 of 100: "child-syn-wrt 34"
(syn-write-max) exec child 36 of 100: "child-syn-wrt 35"
(syn-write-max) exec child 37 of 100: "child-syn-wrt 36"
(syn-write-max) exec child 38 of 100: "child-syn-wrt 37"
(syn-write-max) exec child 39 of 100: "child-syn-wrt 38"
(syn-write-max) exec child 40 of 100: "child-syn-wrt 39"
(syn-write-max) exec child 41 of 100: "child-syn-wrt 40"
(syn-write-max) exec child 42 of 100: "child-syn-wrt 41"
(syn-write-max) exec child 43 of 100: "child-syn-wrt 42"
(syn-write-max) exec child 44 of 100: "child-syn-wrt 43"
(syn-write-max) exec child 45 of 100: "child-syn-wrt 44"
(syn-write-max) exec child 46 of 100: "child-syn-wrt 45"
(syn-write-max) exec child 47 of 100: "child-syn-wrt 46"
(syn-write-max) exec child 48 of 100: "child-syn-wrt 47"
(syn-write-max) exec child 49 of 100: "child-syn-wrt 48"
(syn-write-max) exec child 50 of 100: "child-syn-wrt 49"
(syn-write-max) exec child 51 of 100: "child-syn-wrt 50"
(syn-write-max) exec child 52 of 100: "child-syn-wrt 51"
(syn-write-max) exec child 53 of 100: "child-syn-wrt 52"
(syn-write-max) exec child 54 of 100: "child-syn-wrt 53"
(syn-write-max) exec child 55 of 100: "child-syn-wrt 54"
(syn-write-max) exec child 56 of 100: "child-syn-wrt 55"
(syn-write-max) exec child 57 of 100: "child-syn-wrt 56"
(syn-write-max) exec child 58 of 100: "child-syn-wrt 57"
(syn-write-max) exec child 59 of 100: "child-syn-wrt 58"
(syn-write-max) exec child 60 of 100: "child-syn-wrt 59"
(syn-write-max) exec child 61 of 100: "child-syn-wrt 60"
(syn-write-max) exec child 62 of 100: "child-syn-wrt 61"
(syn-write-max) exec child 63 of 100: "child-syn-wrt 62"
(syn-write-max) exec child 64 of 100: "child-syn-wrt 63"
(syn-write-max) exec child 65 of 100: "child-syn-wrt 64"
(syn-write-max) exec child 66 of 100: "child-syn-wrt 65"
(syn-write-max) exec child 67 of 100: "child-syn-wrt 66"
(syn-write-max) exec child 68 of 100: "child-syn-wrt 67"
(syn-write-max) exec child 69 of 100: "child-syn-wrt 68"
(syn-write-max) exec child 70 of 100: "child-syn-wrt 69"
(syn-write-max) exec child 71 of 100: "child-syn-wrt 70"
(syn-write-max) exec child 72 of 100: "child-syn-wrt 71"
(syn-write-max) exec child 73 of 100: "child-syn-wrt 72"
(syn-write-max) exec child 74 of 100: "child-syn-wrt 73"
(syn-write-max) exec child 75 of 100: "child-syn-wrt 74"
(syn-write-max) exec child 76 of 100: "child-syn-wrt 75"
(syn-write-max) exec child 77 of 100: "child-syn-wrt 76"
(syn-write-max) exec child 78 of 100: "child-syn-wrt 77"
(syn-write-max) exec child 79 of 100: "child-syn-wrt 78"
(syn-write-max) exec child 80 of 100: "child-syn-wrt 79"
(syn-write-max) exec child 81 of 100: "child-syn-wrt 80"
(syn-write-max) exec child 82 of 100: "child-syn-wrt 81"
(syn-write-max) exec child 83 of 100: "child-syn-wrt 82"
(syn-write-max) exec child 84 of 100: "child-syn-wrt 83"
(syn-write-max) exec child 85 of 100: "child-syn-wrt 84"
(syn-write-max) exec child 86 of 100: "child-syn-wrt 85"
(syn-write-max) exec child 87 of 100: "child-syn-wrt 86"
(syn-write-max) exec child 88 of 100: "child-syn-wrt 87"
(syn-write-max) exec child 89 of 100: "child-syn-wrt 88"
(syn-write-max) exec child 90 of 100: "child-syn-wrt 89"
(syn-write-max) exec child 91 of 100: "child-syn-wrt 90"
(syn-write-max) exec child 92 of 100: "child-syn-wrt 91"
(syn-write-max) exec child 93 of 100: "child-syn-wrt 92"
(syn-write-max) exec child 94 of 100: "child-syn-wrt 93"
(syn-write-max) exec child 95 of 100: "child-syn-wrt 94"
(syn-write-max) exec child 96 of 100: "child-syn-wrt 95"
(syn-write-max) exec child 97 of 100: "child-syn-wrt 96"
(syn-write-max) exec child 98 of 100: "child-syn-wrt 97"
(syn-write-max) exec child 99 of 100: "child-syn-wrt 98"
(syn-write-max) exec child 100 of 100: "child-syn-wrt 99"
(syn-write-max) wait for child 1 of 100 returned 0 (expected 0)
(syn-write-max) wait for child 2 of 100 returned 1 (expected 1)
(syn-write-max) wait for child 3 of 100 returned 2 (expected 2)
(syn-write-max) wait for child 4 of 100 returned 3 (expected 3)
(syn-write-max) wait for child 5 of 100 returned 4 (expected 4)
(syn-write-max) wait for child 6 of 100 returned 5 (expected 5)
(syn-write-max) wait for child 7 of 100 returned 6 (expected 6)
(syn-write-max) wait for child 8 of 100 returned 7 (expected 7)
(syn-write-max) wait for child 9 of 100 returned 8 (expected 8)
(syn-write-max) wait for child 10 of 100 returned 9 (expected 9)
(syn-write-max) wait for child 11 of 100 returned 10 (expected 10)
(syn-write-max) wait for child 12 of 100 returned 11 (expected 11)
(syn-write-max) wait for child 13 of 100 returned 12 (expected 12)
(syn-write-max) wait for child 14 of 100 returned 13 (expected 13)
(syn-write-max) wait for child 15 of 100 returned 14 (expected 14)
(syn-write-max) wait for child 16 of 100 returned 15 (expected 15)
(syn-write-max) wait for child 17 of 100 returned 16 (expected 16)
(syn-write-max) wait for child 18 of 100 returned 17 (expected 17)
(syn-write-max) wait for child 19 of 100 returned 18 (expected 18)
(syn-write-max) wait for child 20 of 100 returned 19 (expected 19)
(syn-write-max) wait for child 21 of 100 returned 20 (expected 20)
(syn-write-max) wait for child 22 of 100 returned 21 (expected 21)
(syn-write-max) wait for child 23 of 100 returned 22 (expected 22)
(syn-write-max) wait for child 24 of 100 returned 23 (expected 23)
(syn-write-max) wait for child 25 of 100 returned 24 (expected 24)
(syn-write-max) wait for child 26 of 100 returned 25 (expected 25)
(syn-write-max) wait for child 27 of 100 returned 26 (expected 26)
(syn-write-max) wait for child 28 of 100 returned 27 (expected 27)
(syn-write-max) wait for child 29 of 100 returned 28 (expected 28)
(syn-write-max) wait for child 30 of 100 returned 29 (expected 29)
(syn-write-max) wait for child 31 of 100 returned 30 (expected 30)
(syn-write-max) wait for child 32 of 100 returned 31 (expected 31)
(syn-write-max) wait for child 33 of 100 returned 32 (expected 32)
(syn-write-max) wait for child 34 of 100 returned 33 (expected 33)
(syn-write-max) wait for child 35 of 100 returned 34 (expected 34)
(syn-write-max) wait for child 36 of 100 returned 35 (expected 35)
(syn-write-max) wait for child 37 of 100 returned 36 (expected 36)
(syn-write-max) wait for child 38 of 100 returned 37 (expected 37)
(syn-write-max) wait for child 39 of 100 returned 38 (expected 38)
(syn-write-max) wait for child 40 of 100 returned 39 (expected 39)
(syn-write-max) wait for child 41 of 100 returned 40 (expected 40)
(syn-write-max) wait for child 42 of 100 returned 41 (expected 41)
(syn-write-max) wait for child 43 of 100 returned 42 (expected 42)
(syn-write-max) wait for child 44 of 100 returned 43 (expected 43)
(syn-write-max) wait for child 45 of 100 returned 44 (expected 44)
(syn-write-max) wait for child 46 of 100 returned 45 (expected 45)
(syn-write-max) wait for child 47 of 100 returned 46 (expected 46)
(syn-write-max) wait for child 48 of 100 returned 47 (expected 47)
(syn-write-max) wait for child 49 of 100 returned 48 (expected 48)
(syn-write-max) wait for child 50 of 100 returned 49 (expected 49)
(syn-write-max) wait for child 51 of 100 returned 50 (expected 50)
(syn-write-max) wait for child 52 of 100 returned 51 (expected 51)
(syn-write-max) wait for child 53 of 100 returned 52 (expected 52)
(syn-write-max) wait for child 54 of 100 returned 53 (expected 53)
(syn-write-max) wait for child 55 of 100 returned 54 (expected 54)
(syn-write-max) wait for child 56 of 100 returned 55 (expected 55)
(syn-write-max) wait for child 57 of 100 returned 56 (expected 56)
(syn-write-max) wait for child 58 of 100 returned 57 (expected 57)
(syn-write-max) wait for child 59 of 100 returned 58 (expected 58)
(syn-write-max) wait for child 60 of 100 returned 59 (expected 59)
(syn-write-max) wait for child 61 of 100 returned 60 (expected 60)
(syn-write-max) wait for child 62 of 100 returned 61 (expected 61)
(syn-write-max) wait for child 63 of 100 returned 62 (expected 62)
(syn-write-max) wait for child 64 of 100 returned 63 (expected 63)
(syn-write-max) wait for child 65 of 100 returned 64 (expected 64)
(syn-write-max) wait for child 66 of 100 returned 65 (expected 65)
(syn-write-max) wait for child 67 of 100 returned 66 (expected 66)
(syn-write-max) wait for child 68 of 100 returned 67 (expected 67)
(syn-write-max) wait for child 69 of 100 returned 68 (expected 68)
(syn-write-max) wait for child 70 of 100 returned 69 (expected 69)
(syn-write-max) wait for child 71 of 100 returned 70 (expected 70)
(syn-write-max) wait for child 72 of 100 returned 71 (expected 71)
(syn-write-max) wait for child 73 of 100 returned 72 (expected 72)
(syn-write-max) wait for child 74 of 100 returned 73 (expected 73)
(syn-write-max) wait for child 75 of 100 returned 74 (expected 74)
(syn-write-max) wait for child 76 of 100 returned 75 (expected 75)
(syn-write-max) wait for child 77 of 100 returned 76 (expected 76)
(syn-write-max) wait for child 78 of 100 returned 77 (expected 77)
(syn-write-max) wait for child 79 of 100 returned 78 (expected 78)
(syn-write-max) wait for child 80 of 100 returned 79 (expected 79)
(syn-write-max) wait for child 81 of 100 returned 80 (expected 80)
(syn-write-max) wait for child 82 of 100 returned 81 (expected 81)
(syn-write-max) wait for child 83 of 100 returned 82 (expected 82)
(syn-write-max) wait for child 84 of 100 returned 83 (expected 83)
(syn-write-max) wait for child 85 of 100 returned 84 (expected 84)
(syn-write-max) wait for child 86 of 100 returned 85 (expected 85)
(syn-write-max) wait for child 87 of 100 returned 86 (expected 86)
(syn-write-max) wait for child 88 of 100 returned 87 (expected 87)
(syn-write-max) wait for child 89 of 100 returned 88 (expected 88)
(syn-write-max) wait for child 90 of 100 returned 89 (expected 89)
(syn-write-max) wait for child 91 of 100 returned 90 (expected 90)
(syn-write-max) wait for child 92 of 100 returned 91 (expected 91)
(syn-write-max) wait for child 93 of 100 returned 92 (expected 92)
(syn-write-max) wait for child 94 of 100 returned 93 (expected 93)
(syn-write-max) wait for child 95 of 100 returned 94 (expected 94)
(syn-write-max) wait for child 96 of 100 returned 95 (expected 95)
(syn-write-max) wait for child 97 of 100 returned 96 (expected 96)
(syn-write-max) wait for child 98 of 100 returned 97 (expected 97)
(syn-write-max) wait for child 99 of 100 returned 98 (expected 98)
(syn-write-max) wait for child 100 of 100 returned 99 (expected 99)
(syn-write-max) open "stuff"
(syn-write-max) read "stuff"
(syn-write-max) end
EOF
pass;
